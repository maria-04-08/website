!function(){var i={template:'\n    <div \n      class="v-scroll"\n      ref="scrollDom"\n    >\n      <slot></slot>\n\n      <div\n        v-show="isLoading"\n        class="v-scroll-loading-container"\n        slot="loading"\n        ref="loading"\n      ></div>\n\n      <p\n        v-if="finished && list.length"\n        key="v-scroll-no-result"\n        class="v-scroll-no-result"\n      >{{ finishText }}</p>\n\n      <slot\n        v-if="finished && page == 1 && !list.length"\n        name="empty"\n      >\n        <div class="v-scroll-empty-result">\n          <v-img :src="emptyType[emptyResultType]"></v-img>\n          <p v-if="emptyResultText">{{ emptyResultText }}</p>\n        </div>\n      </slot>\n\t\t</div>\n\t',name:"v-loading",props:{page:{type:Number,default:1,required:!0},list:{type:Array,required:!0,default:function(){return[]}},emptyResultType:String,emptyResultText:String,finishText:{type:String,default:"到底啦~"},finished:{type:Boolean,required:!0},onLoad:{type:Function,required:!0},initTrigger:{type:Boolean,default:!0},offset:{type:String,default:300}},data:function(){return{bind:!1,isLoading:!1,isFinished:!1,lottie:"",emptyType:{product:"../../img/image_null_products@2x.png",store:"../../img/image_null_shop@2x.png"}}},computed:{scrollDom:function(){return this.$refs.scrollDom}},watch:{finished:function(i){this.isFinished=i}},created:function(){this.initTrigger&&this.load()},mounted:function(){this.initLoading(),this.bindHandle(!0),this.bind=!0},beforeDestroy:function(){this.bindHandle(!1),this.lottie.destroy()},methods:{initLoading:function(){var i={container:this.$refs.loading,renderer:"svg",loop:!0,autoplay:!0,animationData:LOADING_CONFIG};this.lottie=lottie.loadAnimation(i)},bindHandle:function(i){this.bind!==i&&(this.bind=i,this.scrollDom[i?"addEventListener":"removeEventListener"]("scroll",this.scroll))},scroll:function(i){if(!this.isLoading&&!this.isFinished){var n=i.target,t=n.scrollTop;n.scrollHeight-t-n.clientHeight<this.offset&&this.load()}},load:function(){var i=this;this.isLoading=!0,this.onLoad().then(function(){return i.finishLoad()}).catch(function(){return i.finishLoad()})},finishLoad:function(){this.isLoading=!1}}};Vue.component("v-scroll",i)}();