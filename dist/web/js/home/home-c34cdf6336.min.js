var vm=new Vue({el:"#home",data:{title:[{name:"首页",url:""},{name:"企业版",url:"../erayic-enterprise/erayic-enterprise.html"},{name:"个人版",url:"../erayic-personal/erayic-personal.html"}],titleIndex:0,features:[{title:"物联网",text:"基于物联网构建起硬件设备实施的全面性监控",img:"../../img/home/icon/features01.png"},{title:"精细化天气",text:"基于精准的地理位置，给出最小范围的气象预报",img:"../../img/home/icon/features02.png"},{title:"智慧分析",text:"有针对性的提出操作管理建议与分析依据",img:"../../img/home/icon/features03.png"},{title:"科学数据",text:"大数据的综合运用，有效为管理者提供科学的决策",img:"../../img/home/icon/features04.png"}],services:[{img:"../../img/home/icon/services01.png",text:"生产批次管理"},{img:"../../img/home/icon/services02.png",text:"生长视频记录"},{img:"../../img/home/icon/services03.png",text:"农业气象旬报"},{img:"../../img/home/icon/services04.png",text:"精细化天气预报"},{img:"../../img/home/icon/services05.png",text:"农技专家服务"},{img:"../../img/home/icon/services06.png",text:"病虫害知识库"},{img:"../../img/home/icon/services07.png",text:"价格动态服务"},{img:"../../img/home/icon/services08.png",text:"台风实时路径"}],contact:[{img:"../../img/home/icon/email-logo.png",title:"电子邮箱",text:"magic-zhong@qq.com"},{img:"../../img/home/icon/phone.png",title:"咨询电话",text:"0898-66236818"}],menuIndex:0,onPersonalCode:!1,onEnterpriseCode:!1,showMiniCode:!1,startTime:0,endTime:0,now:0,showH5:!1,screenWidth:document.body.clientWidth,screenHeight:document.body.clientHeight,showH5Menu:!1,status:!1,chart1:"",chart2:"",chart3:"",proccess1:0,proccess2:0,proccess3:0,setStatus:!1},methods:{changeIndex:function(e,t){this.titleIndex=e,window.location.href=t},toPage:function(e){this.startTime=0,this.endTime=0,this.now=0,this.status&&0==e?document.getElementById("msg_end").scrollIntoView(!1):$("#main").animate({top:e+"px"},1e3)},toHref:function(e){"download"==e&&(e="https://sj.qq.com/myapp/detail.htm?apkName=com.erayic.agr2s"),window.location.href=e},pageScroll:function(){var c=this,e=document.getElementById("wrap"),o=document.getElementById("main"),a=document.body.clientHeight;e.style.height=a+"px";for(var t=document.getElementsByTagName("div"),i=0;i<t.length;i++)"page"==t[i].className&&(t[i].style.height=a+"px");function s(e){c.changeStyle(c.status),c.startTime=(new Date).getTime();var t=e.detail||-e.wheelDelta;if(Math.abs(o.offsetTop)>$("#page1").offset().top){if($(".back-to-top").addClass("bottom_right_cur"),$(".bottom_right").hasClass("hide")){$(".codeFix").addClass("codeFixCur");setTimeout(function(){$(".codeFix").removeClass("codeFixCur")},3e3);$(".bottom_right").removeClass("hide")}}else $(".back-to-top").addClass("hide"),$(".back-to-top").removeClass("bottom_right_cur");var i=$(window).height(),s=$("#page4").offset().top,n=$(window).scrollTop();n<=s&&s<n+i&&(c.setStatus||(c.setStatus=!0,setTimeout(function(){c.initChart();var e=0,t=0,i=0,s=setInterval(function(){e++,95==(c.proccess1=e)&&clearInterval(s)},10),n=setInterval(function(){t++,90==(c.proccess2=t)&&clearInterval(n)},10),o=setInterval(function(){i++,75==(c.proccess3=i)&&clearInterval(o)},10)},400))),c.endTime-c.startTime<-1e3&&(0<t&&parseInt(o.offsetTop)>-3*a&&(c.now=c.now-a,r(c.now)),t<0&&parseInt(o.offsetTop)<0&&(c.now=c.now+a,r(c.now)),c.endTime=(new Date).getTime())}function r(e){$("#main").animate({top:e+"px"},1e3)}-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?document.addEventListener("DOMMouseScroll",s,!1):document.addEventListener?document.addEventListener("mousewheel",s,!1):document.attachEvent?document.attachEvent("onmousewheel",s):document.onmousewheel=s},getProccess:function(e,t,i){var s=e,n=0,o=this;s=setInterval(function(){n++,1==t?o.proccess1=n:2==t?o.proccess2=n:o.proccess3=n,n==i&&clearInterval(s)},10)},initChart:function(){this.chart1=echarts.init(document.getElementById("chart1")),this.chart2=echarts.init(document.getElementById("chart2")),this.chart3=echarts.init(document.getElementById("chart3"));var e={graphic:[],series:[{name:"",type:"pie",center:["50%","50%"],radius:["78%","88%"],hoverAnimation:!1,color:["#8FC7F6","#DADADA"],label:{normal:{show:!1}},labelLine:{normal:{show:!1}},data:[{name:"",value:586},{name:"",value:30}]}]},t=e;t.data=[{name:"",value:586},{name:"",value:20}],this.chart1.setOption(e),this.chart2.setOption(t),this.chart3.setOption(e)},changeStyle:function(e){if(e)return $("#main").css("position","static"),$("#wrap").removeClass("pc-box"),$(".features-part").css("height","auto"),$(".core-services-part").css("height","auto"),void $(".mass-target-part").css("height","auto");$("#main").css("position","relative"),$("#wrap").addClass("pc-box"),$(".features-part").css("height","100%"),$(".core-services-part").css("height","100%")},isScrollOnEle:function(){},scrollFunH5:function(){var e=$("#chart1").offset().top,t=($("#chart2").offset().top,$(window).height()),i=$(window).scrollTop();i<=e&&e<i+t&&(95==this.proccess1||(this.getProccess("t1",1,95),this.chart1||this.initChart(),this.getProccess("t2",2,90),this.chart2||this.initChart(),this.getProccess("t3",3,75),this.chart3||this.initChart()))}},mounted:function(){var e=this,t=this;this.screenWidth=document.body.clientWidth,this.screenHeight=document.body.clientHeight;this.chart1,this.chart2,this.chart3;768<this.screenWidth?t.pageScroll():(t.showH5=!0,-1!=navigator.userAgent.toLowerCase().indexOf("firefox")?document.addEventListener("DOMMouseScroll",t.scrollFunH5,!1):document.addEventListener?document.addEventListener("mousewheel",t.scrollFunH5,!1):document.attachEvent?document.attachEvent("onmousewheel",t.scrollFunH5):document.onmousewheel=scrollFun),this.screenHeight<window.screen.availHeight-98||t.showH5?t.status=!0:t.status=!1,t.changeStyle(t.status),window.onresize=function(){return e.chart1&&(e.chart1.resize(),e.chart2.resize(),e.chart3.resize()),window.screenWidth=document.body.clientWidth,t.screenHeight=document.body.clientHeight,void(768<(t.screenWidth=window.screenWidth)?(t.showH5=!1,t.status=!1,t.changeStyle(!1)):(t.showH5=!0,t.status=!0,t.changeStyle(!0)))}},created:function(){},updated:function(){},watch:{screenWidth:function(e){768<(this.screenWidth=e)?(this.showH5=!1,this.status=!1):(this.chart1||this.initChart(),this.showH5=!0,this.status=!0)},screenHeight:function(e){e<window.screen.availHeight-98||this.showH5?(this.status=!0,this.changeStyle(!0)):(this.status=!1,this.changeStyle(!1))}}});