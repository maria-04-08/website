var vm=new Vue({el:"#city-partner",data:{form:{phone:"",code:"",email:"",company:"",agency:""},countDown:0,successTap:!1},methods:{limitPhone:function(){this.form.phone=utils.limitInput(this.form.phone,"number",11)},limitCode:function(){this.form.code=utils.limitInput(this.form.code,"number",4)},getCode:function(){var n=this,t=n.form.phone;if(0==t.length)return n.$toast("请输入手机号码"),!1;if(!utils.regExpText(t,"mobile"))return n.$toast("请输入正确的手机号"),!1;n.countDown=60,n.triggerCountDown();var e={phone:n.form.phone,token:""};n.$http(API.getLoginCaptCha,e,function(t){n.$toast({text:"验证码已发送",timeout:1e3,success:!0})},function(t){n.$toast(t.msg)},{token:""})},triggerCountDown:function(){var t=this;this.timer=setInterval(function(){t.countDown-=1,0===t.countDown&&clearInterval(t.timer)},1e3)},submit:function(){var n=this,t=n.form.phone,e=n.form.code,o=n.form.email,r=n.form.company,i=n.form.agency;if(0==t.length)return n.$toast("请输入手机号码"),!1;if(!utils.regExpText(t,"mobile"))return n.$toast("请输入正确的手机号"),!1;if(0==e.length)return n.$toast("请输入验证码"),!1;if(0==o.length)return n.$toast("请输入联系邮箱"),!1;if(!utils.regExpText(o,"email"))return n.$toast("请输入有效的邮箱"),!1;if(0==r.length)return n.$toast("请输入公司名称"),!1;if(0==i.length)return n.$toast("请输入合伙人姓名"),!1;var a={phone:t,captcha:e,email:o,companyName:r,name:i,token:""};n.$http(API.agentApply,a,function(t){n.successTap=!0,n.form={phone:"",code:"",email:"",company:"",agency:""},n.countDown=0,clearInterval(n.timer)},function(t){n.form={phone:"",code:"",email:"",company:"",agency:""},n.countDown=0,clearInterval(n.timer),n.$toast(t.msg)},{token:""})},stopScroll:function(){return!1},certain:function(){this.successTap=!1}},mounted:function(){},watch:{}});